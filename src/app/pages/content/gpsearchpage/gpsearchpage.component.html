<nav
  class="navbar navbar-expand-lg fixed-top navbar-transparent"
  color-on-scroll="100"
  id="navbar-top"
>
  <div class="container">
    <div class="navbar-translate">
      <a
        class="navbar-brand"
        [routerLink]="['/home']"
        placement="bottom"
        tooltip="Votre e-bagagiste"
      >
        <span> Le GP</span>
      </a>
      <button
        aria-controls="navigation-index"
        aria-label="Toggle navigation"
        class="navbar-toggler navbar-toggler"
        [attr.aria-expanded]="!isCollapsed"
        (click)="isCollapsed = !isCollapsed"
        id="navigation"
        type="button"
      >
        <span class="navbar-toggler-bar bar1"> </span>
        <span class="navbar-toggler-bar bar2"> </span>
        <span class="navbar-toggler-bar bar3"> </span>
      </button>
    </div>
    <div
      class="navbar-collapse justify-content-end"
      [collapse]="isCollapsed"
      id="navigation"
    >
      <div class="navbar-collapse-header">
        <div class="row">
          <div class="col-6 collapse-brand"><a>Le GP•</a></div>
          <div class="col-6 collapse-close text-right">
            <button
              aria-controls="navigation-index"
              aria-label="Toggle navigation"
              class="navbar-toggler"
              [attr.aria-expanded]="!isCollapsed"
              (click)="isCollapsed = !isCollapsed"
              id="navigation"
              type="button"
            >
              <i class="tim-icons icon-simple-remove"> </i>
            </button>
          </div>
        </div>
      </div>
      <ul class="navbar-nav">
        <li class="nav-item p-0">
          <a
            class="nav-link"
            href="https://twitter.com/CreativeTim"
            placement="bottom"
            target="_blank"
            tooltip="Follow us on Twitter"
          >
            <i class="fab fa-twitter"> </i>
            <p class="d-lg-none d-xl-none">Twitter</p>
          </a>
        </li>
        <li class="nav-item p-0">
          <a
            class="nav-link"
            href="https://www.facebook.com/CreativeTim"
            placement="bottom"
            target="_blank"
            tooltip="Like us on Facebook"
          >
            <i class="fab fa-facebook-square"> </i>
            <p class="d-lg-none d-xl-none">Facebook</p>
          </a>
        </li>
        <li class="nav-item p-0">
          <a
            class="nav-link"
            href="https://www.instagram.com/CreativeTimOfficial"
            placement="bottom"
            target="_blank"
            tooltip="Follow us on Instagram"
          >
            <i class="fab fa-instagram"> </i>
            <p class="d-lg-none d-xl-none">Instagram</p>
          </a>
        </li>
        <li class="nav-item">
          <a *ngIf="displayResult" class="nav-link" (click)="goSearch()">
            Nouvelle recherche
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['/home']">
            Retour vers l'accueil
          </a>
        </li>
        <!-- <li class="nav-item">
          <a
            class="nav-link"
            href="https://github.com/creativetimofficial/blk-design-system-angular/issues"
          >
            Have an issue?
          </a>
        </li> -->
      </ul>
    </div>
  </div>
</nav>
<div class="wrapper">
  <img class="path" src="assets/img/path1.png" />
  <div class="space-50"></div>
  <div class="page-header" *ngIf="!displayResult">
    <div class="content">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 col-md-7 offset-lg-3 offset-md-5">
            <h4 class="profile-title text-left">Trouvez un GP</h4>
            <!-- <div class="square square-7" id="square7"></div>
            <div class="square square-8" id="square8"></div> -->
            <div class="card card-coin">
              <div class="card-header">
                <img src="assets/img/word.png" />
              </div>
              <!-- <img
                    class="img-center img-fluid"
                    src="assets/img/maroc1.png"
                  /> -->

              <div class="card-body">
                <!-- <img  src="assets/img/word.png" /> -->
                <form class="form">
                  <div>
                    <label>Ville de départ</label>
                  </div>
                  <div
                    class="input-group"
                    [ngClass]="{ 'input-group-focus': focus3 === true }"
                  >
                    <div class="input-group-text">
                      <i class="tim-icons icon-square-pin"> </i>
                    </div>

                    <select
                      style="background-color: violet"
                      class="form-control"
                      ngRequired
                      #departs
                      required
                      (change)="SelectedDepart()"
                    >
                      <div class="tim-icons">
                        <i class="tim-icons icon-square-pin"> </i>
                      </div>
                      <option></option>
                      <option>DAKAR</option>
                      <option>CASABLANCA</option>
                      <option>THIES</option>
                      <option>RABAT</option>
                      <option>MBOUR</option>
                      <option>AGADIR</option>
                      <option>KAOLACK</option>
                      <option>SAINT-LOUIS</option>
                      <option>MARRAKECH</option>
                      <option>FES</option>
                    </select>
                  </div>

                  <div>
                    <label>Ville d'arrivée</label>
                  </div>
                  <div
                    class="input-group"
                    [ngClass]="{ 'input-group-focus': focus3 === true }"
                  >
                    <div class="input-group-text">
                      <i class="tim-icons icon-delivery-fast"> </i>
                    </div>

                    <select
                      style="background-color: violet"
                      class="form-control"
                      ngRequired
                      #arrivees
                      required
                      (change)="SelectedArrivees()"
                    >
                      <div class="tim-icons">
                        <i class="tim-icons icon-square-pin"> </i>
                      </div>
                      <option></option>
                      <option>DAKAR</option>
                      <option>CASABLANCA</option>
                      <option>THIES</option>
                      <option>RABAT</option>
                      <option>MBOUR</option>
                      <option>AGADIR</option>
                      <option>KAOLACK</option>
                      <option>SAINT-LOUIS</option>
                      <option>MARRAKECH</option>
                      <option>FES</option>
                    </select>
                  </div>
                  <div>
                    <label>Date de départ</label>
                  </div>
                  <div
                    class="input-group"
                    [ngClass]="{ 'input-group-focus': focus3 === true }"
                  >
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <i class="tim-icons icon-calendar-60"> </i>
                      </div>
                    </div>
                    <input
                      bsDatepicker
                      class="form-control"
                      data-datepicker-color="success"
                      [bsConfig]="{
                        isAnimated: true,
                        containerClass: 'theme-red',
                        dateInputFormat: 'DD-MM-YYYY'
                      }"
                      [bsValue]="bsValue"
                      [minDate]="minDate"
                      (bsValueChange)="getDate($event)"
                      id="datepicker"
                      placeholder="Choisir une date"
                      (focus)="focus3 = true"
                      (blur)="focus3 = false"
                    />
                  </div>

                  <div class="form-check text-left">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" />

                      <span class="form-check-sign"> </span> inclure les autres
                      <a> voyages de la meme semaine</a>.
                    </label>
                  </div>
                </form>
              </div>
              <div class="card-footer">
                <a
                  class="btn btn-primary btn-round btn-lg"
                  (click)="findVoyages()"
                >
                  Lancez la recherche
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="register-bg"></div> -->
        <!-- <div class="square square-1" id="square1"></div>
        <div class="square square-2" id="square2"></div>
        <div class="square square-3" id="square3"></div>
        <div class="square square-4" id="square4"></div>
        <div class="square square-5" id="square5"></div>
        <div class="square square-6" id="square6"></div> -->
      </div>
    </div>
  </div>

  <!--_________________________ FIN DU CARD DE RECHERCHE ___________________ -->

  <!--_________________________ RESULTATS DE LA RECHERCHE ___________________ -->
  <!--  -->
  <div class="main"
  *ngIf="displayResult" style="padding-top: 200px"
 >
    <div class="section section-coins" >
      <div class="container"  *ngIf="voyages$|async as voyages">
  
        <div class="row" *ngFor="let voyage of voyages; index as i" >
          <div class="col-md-3">
            <div class="card card-coin card-plain">
              <div class="card-header">
                <img class="img-center img-fluid" src="assets/img/8bag.png" />
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-12 text-center">
                    <h4 class="text-uppercase">{{voyage.nomGp}}</h4>
                    <span> {{voyage.villeDepot}} vers {{voyage.villeRetrait}}</span>
                    <hr class="line-success" />
                  </div>
                </div>
                <div class="row">
                  <ul class="list-group">
                    <li class="list-group-item">{{voyage.kiloDispo}} Kg disponibles</li>
                    <li class="list-group-item">Tarif : {{voyage.tarifKilo}}/kg</li>
                    <li class="list-group-item">Départ : {{voyage.dateDepart |  date:'EEEE, MMMM d, y' }}</li>
                    <li class="list-group-item">Adresse depot : {{voyage.adresseDepot}}</li>
                    <li class="list-group-item">Adresse Retrait : {{voyage.adresseRetrait}}</li>
                  </ul>
                </div>
              </div>
              <div class="card-footer text-center">
                <button
                  class="btn btn-success btn-simple"
                  (click)="getGpcontact(i)"
                >
                  Contact du GP
                </button>
              </div>
            </div>
          </div>  
        </div>
      </div>

      <!--__________________________ DIALOG POR LE NUMERO DU GP_______________________ -->
      <div
        aria-hidden="true"
        aria-labelledby="myModalLabel"
        bsModal
        class="modal fade modal-mini modal-danger modal-mini"
        #myModal1="bs-modal"
        id="myModal1"
        role="dialog"
        tabindex="-1"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header justify-content-center">
              <button
                aria-hidden="true"
                class="close"
                data-dismiss="modal"
                (click)="myModal1.hide()"
                type="button"
              >
                <i class="tim-icons icon-simple-remove text-white"> </i>
              </button>
              <div class="modal-profile">
                <i class="tim-icons icon-single-02"> </i>
              </div>
            </div>
            <div class="modal-body">
              <p>MINA GP</p>
              <p>+212 XXX XX XX XX</p>
              <p>+221 XX XXX XX XX</p>
            </div>
            <div class="modal-footer">
              <!-- <button class="btn btn-link btn-neutral" type="button">Back</button> -->
              <button
                class="btn btn-link btn-neutral"
                data-dismiss="modal"
                type="button"
                (click)="myModal1.hide()"
              >
                FERMER
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="">
    <div *ngIf="error">{{ error }}</div>

    <ul *ngIf="voyages$ | async as voyages">
      <li *ngFor="let voyage of voyages">{{ voyage.date_depart }}</li>
    </ul>
  </div> -->
  <!--_____________________ FOOTER___________________ -->

  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-3"><h1 class="title">Le GP</h1></div>
        <div class="col-md-3">
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/home']"> Accueil </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/landing']"> Landing </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/register']"> Register </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/profile']"> Profile </a>
            </li>
          </ul>
        </div>
        <div class="col-md-3">
          <ul class="nav">
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://creative-tim.com/contact-us?ref=blkdsa-footer"
              >
                Contact Us
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://creative-tim.com/about-us?ref=blkdsa-footer"
              >
                About Us
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://creative-tim.com/blog?ref=blkdsa-footer"
              >
                Blog
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://opensource.org/licenses/MIT">
                License
              </a>
            </li>
          </ul>
        </div>
        <div class="col-md-3">
          <h3 class="title">Follow us:</h3>
          <div class="btn-wrapper profile">
            <a
              class="btn btn-icon btn-neutral btn-round btn-simple mr-1"
              href="https://twitter.com/creativetim"
              target="_blank"
            >
              <i class="fab fa-twitter"> </i>
            </a>
            <a
              class="btn btn-icon btn-neutral btn-round btn-simple mr-1"
              href="https://www.facebook.com/creativetim"
              target="_blank"
            >
              <i class="fab fa-facebook-square"> </i>
            </a>
            <a
              class="btn btn-icon btn-neutral btn-round btn-simple"
              href="https://dribbble.com/creativetim"
              target="_blank"
            >
              <i class="fab fa-dribbble"> </i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>
